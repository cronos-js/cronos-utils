#!/usr/bin/env node
var p=Object.create;var t=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var d=(e,s,o,c)=>{if(s&&typeof s=="object"||typeof s=="function")for(let r of f(s))!u.call(e,r)&&r!==o&&t(e,r,{get:()=>s[r],enumerable:!(c=a(s,r))||c.enumerable});return e};var h=(e,s,o)=>(o=e!=null?p(g(e)):{},d(s||!e||!e.__esModule?t(o,"default",{value:e,enumerable:!0}):o,e));var x=require("child_process");var w=async e=>{switch(console.clear(),console.log("\x1B[33m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\x1B[37m"),e){case"build":console.log("    \x1B[33m\x1B[1m\x1B[37mCronos Build \u{1F525}  \x1B[0m\x1B[31m");break;case"watch":console.log("    \x1B[33m\x1B[1m\x1B[37mCronos Watch \u{1F525}  \x1B[0m\x1B[31m");break;case"preview":console.log("   \x1B[33m\x1B[1m\x1B[37mCronos Preview \u{1F525}  \x1B[0m\x1B[31m");break;default:break}console.log("\x1B[33m\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\x1B[37m")},m=w;var n=h(require("fs")),l=e=>{let s=n.default.existsSync("src/index.ts"),o=n.default.existsSync("src/index.js");!s&&!o?(console.log("[\u274C] index.ts or index.js not found in src folder."),process.exit(1)):e(s)};var y=process.argv.slice(2),i=y[0];m("build");i=="--express"?l(e=>{(0,x.exec)("npx swc ./src -d build",(s,o,c)=>{if(s){console.error(`${s.message}`);return}if(c){console.error(`${c}`);return}let r=/swc(.*)/,b=o.match(r)[1].replace(/\s/g,"").replace(/\(|\)/g,"");console.log(`\u26A1 Built src in \x1B[33m\x1B[1m${b}\x1B[0m\x1B[37m`)})}):i=="--react"&&(0,x.exec)("npx rspack build",(e,s,o)=>{if(e){console.error(`${e.message}`);return}if(o){console.error(`${o}`);return}if(s){let c=/in(.*)/,r=s.match(c);console.log(`\u26A1 Build in \x1B[33m\x1B[1m${r[0]}\x1B[0m\x1B[37m`);return}});
